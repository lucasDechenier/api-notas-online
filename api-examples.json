{
  "description": "Exemplos de uso da API Notas Online",
  "baseUrl": "http://localhost:3000",
  
  "workflow": {
    "1_criar_escola": {
      "method": "POST",
      "endpoint": "/schools",
      "public": true,
      "body": {
        "school": {
          "name": "Colégio Educação Plus",
          "email": "contato@educacaoplus.com",
          "address": "Av. Principal, 1000",
          "phone": "(11) 3333-4444"
        }
      }
    },
    
    "2_criar_usuario_admin": {
      "method": "POST",
      "endpoint": "/users",
      "public": true,
      "body": {
        "user": {
          "name": "Carlos Admin",
          "email": "carlos@educacaoplus.com",
          "password": "senha123",
          "password_confirmation": "senha123",
          "user_type": "admin",
          "school_id": "<ID_DA_ESCOLA>",
          "address": "Rua das Flores, 456"
        }
      }
    },
    
    "3_criar_usuario_professor": {
      "method": "POST",
      "endpoint": "/users",
      "public": true,
      "body": {
        "user": {
          "name": "Ana Professora",
          "email": "ana@educacaoplus.com",
          "password": "senha123",
          "password_confirmation": "senha123",
          "user_type": "teacher",
          "school_id": "<ID_DA_ESCOLA>",
          "address": "Rua dos Professores, 789"
        }
      }
    },
    
    "4_login": {
      "method": "POST",
      "endpoint": "/users/login",
      "public": true,
      "body": {
        "email": "carlos@educacaoplus.com",
        "password": "senha123"
      },
      "response_example": {
        "user": {
          "id": "...",
          "name": "Carlos Admin",
          "email": "carlos@educacaoplus.com",
          "user_type": "admin",
          "school_id": "..."
        },
        "token": "eyJhbGciOiJIUzI1NiJ9..."
      }
    },
    
    "5_criar_aluno": {
      "method": "POST",
      "endpoint": "/students",
      "authenticated": true,
      "headers": {
        "Authorization": "Bearer <TOKEN>"
      },
      "body": {
        "student": {
          "name": "Pedro Aluno",
          "email": "pedro@example.com",
          "registration_number": "2024001",
          "phone": "(11) 98765-4321"
        }
      }
    },
    
    "6_criar_disciplina": {
      "method": "POST",
      "endpoint": "/subjects",
      "authenticated": true,
      "headers": {
        "Authorization": "Bearer <TOKEN>"
      },
      "body": {
        "subject": {
          "name": "Matemática",
          "code": "MAT101",
          "number_of_grades": 3,
          "passing_average": 7.0,
          "recovery_average": 5.0,
          "teacher_id": "<ID_DO_PROFESSOR>"
        }
      }
    },
    
    "7_criar_registro_notas": {
      "method": "POST",
      "endpoint": "/grades",
      "authenticated": true,
      "headers": {
        "Authorization": "Bearer <TOKEN>"
      },
      "body": {
        "grade": {
          "student_id": "<ID_DO_ALUNO>",
          "subject_id": "<ID_DA_DISCIPLINA>",
          "scores": [8.5, 7.0]
        }
      }
    },
    
    "8_adicionar_nota": {
      "method": "PUT",
      "endpoint": "/grades/<ID_DA_NOTA>",
      "authenticated": true,
      "headers": {
        "Authorization": "Bearer <TOKEN>"
      },
      "body": {
        "grade": {
          "add_score": 9.0
        }
      }
    }
  },
  
  "cenarios": {
    "cenario_completo": {
      "descricao": "Fluxo completo de criação e gestão de notas",
      "passos": [
        "1. Criar escola",
        "2. Criar usuário admin",
        "3. Criar usuário professor",
        "4. Login com admin",
        "5. Criar alunos",
        "6. Login com professor",
        "7. Criar disciplinas (professor é automaticamente associado)",
        "8. Criar registros de notas",
        "9. Lançar notas gradualmente",
        "10. Consultar status dos alunos"
      ]
    },
    
    "permissoes_admin": {
      "descricao": "O que um admin pode fazer",
      "acoes": [
        "Gerenciar escolas",
        "Gerenciar usuários (criar, editar, excluir)",
        "Gerenciar alunos (criar, editar, excluir)",
        "Gerenciar disciplinas (todas)",
        "Gerenciar notas (todas)",
        "Ver todos os dados da escola"
      ]
    },
    
    "permissoes_professor": {
      "descricao": "O que um professor pode fazer",
      "acoes": [
        "Ver alunos da escola",
        "Criar e gerenciar suas próprias disciplinas",
        "Lançar e editar notas das suas disciplinas",
        "Ver e editar seu próprio perfil"
      ],
      "restricoes": [
        "Não pode excluir alunos",
        "Não pode gerenciar disciplinas de outros professores",
        "Não pode gerenciar notas de outras disciplinas",
        "Não pode mudar seu tipo de usuário"
      ]
    }
  },
  
  "validacoes": {
    "notas": {
      "range": "0 a 10",
      "quantidade": "Definida pela disciplina (1 a 3)",
      "unicidade": "Apenas um registro de notas por aluno por disciplina"
    },
    "disciplina": {
      "code": "Único por escola",
      "number_of_grades": "Entre 1 e 3",
      "averages": "Entre 0 e 10"
    },
    "aluno": {
      "registration_number": "Único por escola"
    }
  },
  
  "status_notas": {
    "approved": "Média >= média de aprovação",
    "recovery": "Média >= média de recuperação e < média de aprovação",
    "failed": "Média < média de recuperação",
    "incomplete": "Nem todas as notas foram lançadas"
  }
}
