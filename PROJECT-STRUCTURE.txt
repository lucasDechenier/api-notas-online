```
ğŸ“¦ api-notas-online/
â”‚
â”œâ”€â”€ ğŸ³ Docker & Infrastructure
â”‚   â”œâ”€â”€ Dockerfile                      # Container da API Rails
â”‚   â”œâ”€â”€ docker-compose.yml              # OrquestraÃ§Ã£o API + MongoDB
â”‚   â”œâ”€â”€ .dockerignore                   # OtimizaÃ§Ã£o de build
â”‚   â””â”€â”€ .env.example                    # Template de variÃ¡veis
â”‚
â”œâ”€â”€ ğŸ“± Application (app/)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ® Controllers
â”‚   â”‚   â”œâ”€â”€ application_controller.rb   # Base controller
â”‚   â”‚   â”œâ”€â”€ schools_controller.rb       # CRUD Escolas
â”‚   â”‚   â”œâ”€â”€ users_controller.rb         # CRUD UsuÃ¡rios + Login
â”‚   â”‚   â”œâ”€â”€ students_controller.rb      # CRUD Alunos
â”‚   â”‚   â”œâ”€â”€ subjects_controller.rb      # CRUD Disciplinas
â”‚   â”‚   â”œâ”€â”€ grades_controller.rb        # CRUD Notas
â”‚   â”‚   â””â”€â”€ concerns/
â”‚   â”‚       â”œâ”€â”€ authenticable.rb        # AutenticaÃ§Ã£o JWT
â”‚   â”‚       â””â”€â”€ json_web_token.rb       # JWT helpers
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ—„ï¸ Models
â”‚       â”œâ”€â”€ school.rb                   # Entidade principal
â”‚       â”œâ”€â”€ user.rb                     # Admin/Teacher
â”‚       â”œâ”€â”€ student.rb                  # Alunos
â”‚       â”œâ”€â”€ subject.rb                  # Disciplinas
â”‚       â””â”€â”€ grade.rb                    # Notas
â”‚
â”œâ”€â”€ âš™ï¸ Configuration (config/)
â”‚   â”œâ”€â”€ mongoid.yml                     # MongoDB config
â”‚   â”œâ”€â”€ routes.rb                       # API routes
â”‚   â”œâ”€â”€ application.rb                  # Rails config
â”‚   â””â”€â”€ initializers/
â”‚       â”œâ”€â”€ cors.rb                     # CORS setup
â”‚       â””â”€â”€ mongoid.rb                  # Mongoid init
â”‚
â”œâ”€â”€ ğŸ“š Documentation
â”‚   â”œâ”€â”€ README.md                       # ğŸ“– Guia principal
â”‚   â”œâ”€â”€ ARCHITECTURE.md                 # ğŸ—ï¸ Arquitetura tÃ©cnica
â”‚   â”œâ”€â”€ PROJECT-SUMMARY.md              # ğŸ“Š Resumo completo
â”‚   â”œâ”€â”€ COMMANDS.md                     # ğŸ’» Comandos Ãºteis
â”‚   â”œâ”€â”€ CHECKLIST.md                    # âœ… VerificaÃ§Ã£o
â”‚   â”œâ”€â”€ requests.http                   # ğŸ§ª Exemplos HTTP
â”‚   â”œâ”€â”€ api-examples.json               # ğŸ“ Exemplos JSON
â”‚   â””â”€â”€ PROJECT-STRUCTURE.txt           # ğŸ“‚ Este arquivo
â”‚
â”œâ”€â”€ ğŸ”§ Scripts
â”‚   â””â”€â”€ setup.sh                        # Script de inicializaÃ§Ã£o
â”‚
â””â”€â”€ ğŸ“¦ Dependencies
    â”œâ”€â”€ Gemfile                         # Ruby gems
    â””â”€â”€ Gemfile.lock                    # VersÃµes locked

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ ENTIDADES PRINCIPAIS

School (Escola) - Entidade raiz multilocatÃ¡rio
    â†“
    â”œâ”€â”€ Users (UsuÃ¡rios)
    â”‚   â”œâ”€â”€ Admin (gerencia tudo)
    â”‚   â””â”€â”€ Teacher (gerencia suas disciplinas)
    â”‚
    â”œâ”€â”€ Students (Alunos)
    â”‚   â””â”€â”€ registration_number Ãºnico por escola
    â”‚
    â”œâ”€â”€ Subjects (Disciplinas)
    â”‚   â”œâ”€â”€ code Ãºnico por escola
    â”‚   â”œâ”€â”€ belongs_to :teacher
    â”‚   â””â”€â”€ number_of_grades (1-3)
    â”‚
    â””â”€â”€ Grades (Notas)
        â”œâ”€â”€ belongs_to :student
        â”œâ”€â”€ belongs_to :subject
        â”œâ”€â”€ scores[] (array de notas)
        â”œâ”€â”€ average (calculado)
        â””â”€â”€ status (approved/recovery/failed)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” FLUXO DE AUTENTICAÃ‡ÃƒO

1. POST /users/login
   â””â”€> Valida email/senha
       â””â”€> Gera JWT (exp: 48h)
           â””â”€> Retorna token

2. RequisiÃ§Ã£o autenticada
   â””â”€> Authorization: Bearer {token}
       â””â”€> Middleware valida token
           â””â”€> Extrai current_user
               â””â”€> Filtra por current_school
                   â””â”€> Autoriza por user_type

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ›£ï¸ PRINCIPAIS ENDPOINTS

PÃºblicos (sem autenticaÃ§Ã£o):
â”œâ”€â”€ POST /schools                       # Criar escola
â”œâ”€â”€ POST /users                         # Criar usuÃ¡rio
â””â”€â”€ POST /users/login                   # Login

Autenticados:
â”œâ”€â”€ GET  /users/me                      # Perfil atual
â”œâ”€â”€ GET  /schools                       # Listar escolas
â”œâ”€â”€ CRUD /students                      # Gerenciar alunos
â”œâ”€â”€ CRUD /subjects                      # Gerenciar disciplinas
â””â”€â”€ CRUD /grades                        # Gerenciar notas

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ³ CONTAINERS DOCKER

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Container: api-notas-rails                             â”‚
â”‚  â”œâ”€ Image: Ruby 3.1.4                                   â”‚
â”‚  â”œâ”€ Framework: Rails 7.2.3 (API mode)                   â”‚
â”‚  â”œâ”€ Port: 3000                                          â”‚
â”‚  â””â”€ Volume: cÃ³digo montado                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
                    [Network]
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Container: api-notas-mongodb                           â”‚
â”‚  â”œâ”€ Image: MongoDB 7                                    â”‚
â”‚  â”œâ”€ Port: 27017                                         â”‚
â”‚  â”œâ”€ User: admin / admin123                              â”‚
â”‚  â””â”€ Volume: mongodb_data (persistente)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š ESTATÃSTICAS DO PROJETO

Modelos:          5 arquivos
Controllers:      6 arquivos (5 + base)
Concerns:         2 arquivos
Rotas:            ~20 endpoints
DocumentaÃ§Ã£o:     8 arquivos
Total Linhas:     ~1800 linhas de cÃ³digo

Gems principais:
â”œâ”€â”€ mongoid       # MongoDB ODM
â”œâ”€â”€ jwt           # AutenticaÃ§Ã£o
â”œâ”€â”€ bcrypt        # Senhas
â””â”€â”€ rack-cors     # CORS

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ QUICK START

1. Iniciar:
   $ docker-compose up --build

2. Testar:
   $ curl http://localhost:3000/up

3. Usar:
   Ver README.md para exemplos completos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… STATUS: 100% COMPLETO E FUNCIONAL

Todos os requisitos implementados com sucesso!
API pronta para uso em ambiente de desenvolvimento.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```
